import{r as l,b as y,z as c,j as e,a as E}from"./index-Cv_EM5B3.js";import{X as U,B as F,A as z,F as T,C as B,D as H,S as G}from"./DashboardLayout-Dgk-_yJ3.js";import{S as X}from"./save-BnGpkhwG.js";import{I as Y}from"./info-BgLrENgl.js";import{H as _}from"./hash-BFl_i1Z-.js";import{U as D}from"./user-AQ183lw-.js";import{C as q}from"./clock-YOqg-tzx.js";import{P as J}from"./plus-smBCJEhq.js";import{E as K}from"./eye-WupJDer2.js";import{P as O}from"./pen-square-BIqX7x5-.js";import{T as Q}from"./trash-2-CpS1ADUT.js";import"./graduation-cap-DFyTfTku.js";import"./credit-card-DXrYcg-6.js";import"./video-D6oD5f21.js";const Z=({isOpen:p,onClose:x,module:i,onSuccess:M})=>{const[u,r]=l.useState(!1),[n,o]=l.useState(!1),[m,k]=l.useState([]),[w,N]=l.useState([]),[t,d]=l.useState({moduleCode:"",moduleName:"",semesterNumber:"",credits:"",description:"",programId:"",lecturerId:""});l.useEffect(()=>{p&&(f(),I())},[p]),l.useEffect(()=>{var a,S,C,j;d(i?{moduleCode:i.moduleCode||"",moduleName:i.moduleName||"",semesterNumber:((a=i.semesterNumber)==null?void 0:a.toString())||"",credits:((S=i.credits)==null?void 0:S.toString())||"",description:i.description||"",programId:((C=i.program)==null?void 0:C.id)||"",lecturerId:((j=i.lecturer)==null?void 0:j.id)||""}:{moduleCode:"",moduleName:"",semesterNumber:"",credits:"",description:"",programId:"",lecturerId:""})},[i]);const f=async()=>{try{o(!0);const a=await y.get("/programs/dropdown");k(a.data.data.programs)}catch(a){console.error("Failed to fetch programs:",a),c.error("Failed to load programs")}finally{o(!1)}},I=async()=>{try{const a=await y.get("/lecturers");N(a.data.data.lecturers||[])}catch(a){console.error("Failed to fetch lecturers:",a),c.error("Failed to load lecturers")}},h=a=>{d({...t,[a.target.name]:a.target.value})},P=()=>t.moduleCode.trim()?t.moduleName.trim()?t.semesterNumber?t.programId?t.credits&&parseFloat(t.credits)<0?(c.error("Credits cannot be negative"),!1):!0:(c.error("Please select a program"),!1):(c.error("Semester number is required"),!1):(c.error("Module name is required"),!1):(c.error("Module code is required"),!1),g=async a=>{var S,C;if(a.preventDefault(),!!P()){r(!0);try{const j={moduleCode:t.moduleCode,moduleName:t.moduleName,semesterNumber:parseInt(t.semesterNumber),credits:t.credits?parseInt(t.credits):null,description:t.description,programId:t.programId,lecturerId:t.lecturerId||null};i?(await y.put(`/modules/${i.id}`,j),c.success("Module updated successfully")):(await y.post("/modules",j),c.success("Module created successfully")),M(),x()}catch(j){c.error(((C=(S=j.response)==null?void 0:S.data)==null?void 0:C.message)||`Failed to ${i?"update":"create"} module`)}finally{r(!1)}}};return p?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:x}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[e.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:i?"Edit Module":"Add New Module"}),e.jsx("button",{onClick:x,className:"text-white hover:text-gray-200 transition",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:g,children:[e.jsx("div",{className:"bg-white px-6 py-5 space-y-6",children:n?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx(E,{className:"w-8 h-8 animate-spin text-primary-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Module Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"moduleCode",value:t.moduleCode,onChange:h,required:!0,disabled:!!i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100",placeholder:"e.g., CS101"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unique identifier for the module"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Module Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"moduleName",value:t.moduleName,onChange:h,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Introduction to Computer Science"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"programId",value:t.programId,onChange:h,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a program"}),m.map(a=>e.jsxs("option",{value:a.id,children:[a.programCode," - ",a.programName]},a.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Semester ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"semesterNumber",value:t.semesterNumber,onChange:h,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select semester"}),e.jsx("option",{value:"1",children:"Semester 1"}),e.jsx("option",{value:"2",children:"Semester 2"}),e.jsx("option",{value:"3",children:"Semester 3"}),e.jsx("option",{value:"4",children:"Semester 4"}),e.jsx("option",{value:"5",children:"Semester 5"}),e.jsx("option",{value:"6",children:"Semester 6"}),e.jsx("option",{value:"7",children:"Semester 7"}),e.jsx("option",{value:"8",children:"Semester 8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credits"}),e.jsx("input",{type:"number",name:"credits",value:t.credits,onChange:h,min:"0",max:"10",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Lecturer"}),e.jsxs("select",{name:"lecturerId",value:t.lecturerId,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"No lecturer assigned"}),w.map(a=>e.jsxs("option",{value:a.id,children:[a.user.firstName," ",a.user.lastName]},a.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can assign a lecturer later if needed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:t.description,onChange:h,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter module description, learning outcomes, and key topics..."})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition",disabled:u,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u||n,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50",children:u?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-5 h-5 mr-2 animate-spin"}),i?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-5 h-5 mr-2"}),i?"Update Module":"Create Module"]})})]})]})]})]})}):null},ee=({isOpen:p,onClose:x,moduleId:i})=>{var m,k,w,N,t;const[M,u]=l.useState(!1),[r,n]=l.useState(null);l.useEffect(()=>{p&&i&&o()},[p,i]);const o=async()=>{try{u(!0);const d=await y.get(`/modules/${i}`);n(d.data.data.module)}catch{c.error("Failed to fetch module details"),x()}finally{u(!1)}};return p?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:x}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Module Details"}),e.jsx("button",{onClick:x,className:"text-white hover:text-gray-200 transition",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-white px-6 py-5 max-h-[calc(100vh-200px)] overflow-y-auto",children:M?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(E,{className:"w-12 h-12 text-primary-600 animate-spin"})}):r?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 pb-6 border-b",children:[e.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-lg flex items-center justify-center text-primary-600",children:e.jsx(F,{className:"w-12 h-12"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.moduleName}),e.jsx("p",{className:"text-gray-500 font-medium",children:r.moduleCode}),e.jsxs("div",{className:"mt-2 flex flex-wrap justify-center md:justify-start gap-2",children:[e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:["Semester ",r.semesterNumber]}),e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:[r.credits," Credits"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"})," General Information"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(_,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Module Code"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.moduleCode})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(F,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Program"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(m=r.program)==null?void 0:m.programName})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(z,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Credits"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.credits})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-2"})," Academic Details"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(D,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Assigned Lecturer"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.lecturer?`${r.lecturer.user.title} ${r.lecturer.user.firstName} ${r.lecturer.user.lastName}`:"Not assigned"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(T,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:r.description||"No description provided."})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg border border-primary-100",children:[e.jsx("p",{className:"text-xs text-primary-600 font-medium",children:"Schedules"}),e.jsx("p",{className:"text-xl font-bold text-primary-900 mt-1",children:((k=r.schedules)==null?void 0:k.length)||0})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Assignments"}),e.jsx("p",{className:"text-xl font-bold text-green-900 mt-1",children:((w=r.assignments)==null?void 0:w.length)||0})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Results"}),e.jsx("p",{className:"text-xl font-bold text-purple-900 mt-1",children:((N=r.results)==null?void 0:N.length)||0})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-100",children:[e.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Feedbacks"}),e.jsx("p",{className:"text-xl font-bold text-orange-900 mt-1",children:((t=r.feedbacks)==null?void 0:t.length)||0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 pt-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 mr-2 text-primary-600"}),"Recent Schedules"]}),r.schedules&&r.schedules.length>0?e.jsx("div",{className:"space-y-3",children:r.schedules.slice(0,5).map(d=>{var f;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-100 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:((f=d.batch)==null?void 0:f.batchNumber)||"N/A"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d.date," â€¢ ",d.startTime," - ",d.endTime]})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${d.status==="COMPLETED"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:d.status})]},d.id)})}):e.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"No schedules found."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx(T,{className:"w-4 h-4 mr-2 text-primary-600"}),"Assignments"]}),r.assignments&&r.assignments.length>0?e.jsx("div",{className:"space-y-3",children:r.assignments.slice(0,5).map(d=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-100 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:d.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(d.dueDate).toLocaleDateString()]})]}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-primary-100 text-primary-700",children:d.type})]},d.id))}):e.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"No assignments found."})]})]}),e.jsxs("div",{className:"pt-6 border-t flex justify-between text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"Created: ",new Date(r.createdAt).toLocaleString()]}),r.updatedAt&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"Updated: ",new Date(r.updatedAt).toLocaleString()]})]})]}):e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-500",children:"No module data found."})})}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end",children:e.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition",children:"Close"})})]})]})}):null},pe=()=>{const[p,x]=l.useState([]),[i,M]=l.useState(!0),[u,r]=l.useState(""),[n,o]=l.useState(1),[m,k]=l.useState(1),[w,N]=l.useState(!1),[t,d]=l.useState(!1),[f,I]=l.useState(null),[h,P]=l.useState({totalModules:0,modulesWithLecturer:0,modulesWithoutLecturer:0}),[g,a]=l.useState({programId:"",semesterNumber:""}),[S,C]=l.useState([]);l.useEffect(()=>{A(),L()},[n,u,g]),l.useEffect(()=>{j()},[]);const j=async()=>{try{const s=await y.get("/programs/dropdown");C(s.data.data.programs)}catch(s){console.error("Failed to fetch programs",s)}},A=async()=>{try{M(!0);const s=new URLSearchParams({page:n.toString(),limit:"12",...u&&{search:u},...g.programId&&{programId:g.programId},...g.semesterNumber&&{semesterNumber:g.semesterNumber}}),b=await y.get(`/modules?${s}`);x(b.data.data.modules),k(b.data.data.pagination.pages)}catch(s){c.error("Failed to fetch modules"),console.error(s)}finally{M(!1)}},L=async()=>{try{const s=await y.get("/modules/stats");P(s.data.data)}catch(s){console.error("Failed to fetch stats:",s)}},W=async s=>{var b,v;if(window.confirm("Are you sure you want to delete this module?"))try{await y.delete(`/modules/${s}`),c.success("Module deleted successfully"),A(),L()}catch(V){c.error(((v=(b=V.response)==null?void 0:b.data)==null?void 0:v.message)||"Failed to delete module")}},R=s=>{r(s.target.value),o(1)},$=(s,b)=>{a({...g,[s]:b}),o(1)};return e.jsxs(H,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modules"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage course modules"})]}),e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[e.jsx(J,{className:"w-5 h-5 mr-2"}),"Add Module"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white p-5 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Modules"}),e.jsx("p",{className:"text-2xl font-bold",children:h.totalModules})]}),e.jsx(F,{className:"w-10 h-10 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"With Lecturer"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.modulesWithLecturer})]}),e.jsx(D,{className:"w-10 h-10 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Unassigned"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:h.modulesWithoutLecturer})]}),e.jsx(D,{className:"w-10 h-10 text-orange-500"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search modules...",value:u,onChange:R,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),e.jsxs("select",{value:g.programId,onChange:s=>$("programId",s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Programs"}),S.map(s=>e.jsx("option",{value:s.id,children:s.programName},s.id))]}),e.jsxs("select",{value:g.semesterNumber,onChange:s=>$("semesterNumber",s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Semesters"}),e.jsx("option",{value:"1",children:"Semester 1"}),e.jsx("option",{value:"2",children:"Semester 2"}),e.jsx("option",{value:"3",children:"Semester 3"}),e.jsx("option",{value:"4",children:"Semester 4"}),e.jsx("option",{value:"5",children:"Semester 5"}),e.jsx("option",{value:"6",children:"Semester 6"}),e.jsx("option",{value:"7",children:"Semester 7"}),e.jsx("option",{value:"8",children:"Semester 8"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:i?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No modules found"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:p.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:s.moduleCode}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Semester ",s.semesterNumber]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:s.moduleName}),e.jsx("p",{className:"text-sm text-gray-600",children:s.program.programName})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Credits: ",s.credits||"N/A"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:s.lecturer?`${s.lecturer.user.firstName} ${s.lecturer.user.lastName}`:"No Lecturer Assigned"})]})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>{I(s),d(!0)},className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>{I(s),N(!0)},className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-green-600 bg-green-50 rounded-lg hover:bg-green-100 transition",children:[e.jsx(O,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>W(s.id),className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},s.id))}),e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>o(s=>Math.max(1,s-1)),disabled:n===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>o(s=>Math.min(m,s+1)),disabled:n===m,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Page ",e.jsx("span",{className:"font-medium",children:n})," of"," ",e.jsx("span",{className:"font-medium",children:m})]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>o(s=>Math.max(1,s-1)),disabled:n===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,m)},(s,b)=>{const v=b+1+Math.max(0,n-3);return v>m?null:e.jsx("button",{onClick:()=>o(v),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${v===n?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:v},v)}),e.jsx("button",{onClick:()=>o(s=>Math.min(m,s+1)),disabled:n===m,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})})]}),w&&e.jsx(Z,{isOpen:w,onClose:()=>{N(!1),I(null)},onSuccess:()=>{A(),L()},module:f}),e.jsx(ee,{isOpen:t,onClose:()=>{d(!1),I(null)},moduleId:(f==null?void 0:f.id)||null})]})};export{pe as default};
