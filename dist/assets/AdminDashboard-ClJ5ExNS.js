import{r as d,b as j,j as e,L as t}from"./index-Cv_EM5B3.js";import{D as i,B as n,a as o}from"./DashboardLayout-Dgk-_yJ3.js";import{U as c}from"./video-D6oD5f21.js";import{T as m}from"./trending-up-DauZsihk.js";import"./graduation-cap-DFyTfTku.js";import"./credit-card-DXrYcg-6.js";const E=()=>{var l;const[r,x]=d.useState(null),[h,g]=d.useState(!0);d.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await j.get("/dashboard/admin");x(s.data.data)}catch(s){console.error("Failed to fetch dashboard data:",s)}finally{g(!1)}};if(h)return e.jsx(i,{children:e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})});const a=(r==null?void 0:r.stats)||{},b=[{name:"Total Students",value:a.totalStudents||0,icon:c,color:"blue",change:"+12%"},{name:"Total Lecturers",value:a.totalLecturers||0,icon:n,color:"green",change:"+5%"},{name:"Active Enrollments",value:a.activeEnrollments||0,icon:m,color:"purple",change:"+18%"},{name:"Pending Payments",value:a.pendingPayments||0,icon:o,color:"red",change:"-3%"}];return e.jsx(i,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening today."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:b.map(s=>e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex-shrink-0 bg-${s.color}-100 rounded-md p-3`,children:e.jsx(s.icon,{className:`h-6 w-6 text-${s.color}-600`})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:s.name}),e.jsxs("dd",{className:"flex items-baseline",children:[e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.value}),e.jsx("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${s.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:s.change})]})]})})]})})},s.name))}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Registrations"})}),e.jsx("div",{className:"p-5",children:e.jsx("div",{className:"space-y-3",children:(l=r==null?void 0:r.recentUsers)==null?void 0:l.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-semibold",children:[s.firstName.charAt(0),s.lastName.charAt(0)]}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:s.email})]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.role==="STUDENT"?"bg-blue-100 text-blue-800":s.role==="LECTURER"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.role})]},s.id))})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(t,{to:"/admin/users",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[e.jsx(c,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add User"})]}),e.jsxs(t,{to:"/admin/programs",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[e.jsx(n,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New Program"})]}),e.jsxs(t,{to:"/admin/reports",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[e.jsx(m,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"View Reports"})]}),e.jsxs(t,{to:"/admin/payments",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[e.jsx(o,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Payments"})]})]})})]})]})]})})};export{E as default};
