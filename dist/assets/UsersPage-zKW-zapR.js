import{e as K,b as g,r as n,j as e,a as R,z as j,u as Q}from"./index-Cv_EM5B3.js";import{X as T,D as W,S as Y}from"./DashboardLayout-Dgk-_yJ3.js";import{U as I}from"./user-AQ183lw-.js";import{M as U}from"./mail-DSG3J4YO.js";import{L as Z}from"./lock-C4emi0Rs.js";import{P as A}from"./phone-gSTUTTg8.js";import{M as B}from"./map-pin-DPFV6g1q.js";import{S as ee}from"./save-BnGpkhwG.js";import{B as se}from"./building-DE96Jm2V.js";import{R as P}from"./refresh-cw-2eDXuAuE.js";import{U as te}from"./user-plus-DtxWCNpf.js";import{U as E}from"./video-D6oD5f21.js";import{C as L}from"./check-circle-C2ph5B4V.js";import{X as re}from"./x-circle-QESXgDV1.js";import{E as ae}from"./eye-WupJDer2.js";import{P as le}from"./pen-square-BIqX7x5-.js";import{T as ie}from"./trash-2-CpS1ADUT.js";import"./graduation-cap-DFyTfTku.js";import"./credit-card-DXrYcg-6.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=K("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),w={getAllUsers:async l=>(await g.get("/users",{params:l})).data,getUserById:async l=>(await g.get(`/users/${l}`)).data,createUser:async l=>(await g.post("/users",l)).data,updateUser:async(l,c)=>(await g.put(`/users/${l}`,c)).data,deleteUser:async l=>(await g.delete(`/users/${l}`)).data,getUserStats:async()=>(await g.get("/users/stats")).data},ne=({isOpen:l,onClose:c,user:r,onSuccess:N})=>{const[f,t]=n.useState(!1),[b,x]=n.useState([]),[a,o]=n.useState({username:"",email:"",password:"",role:"ADMIN",title:"Mr",firstName:"",lastName:"",gender:"MALE",dateOfBirth:"",nic:"",address:"",mobileNumber:"",homeNumber:"",centerId:"",isActive:!0});n.useEffect(()=>{l&&M()},[l]),n.useEffect(()=>{var i;o(r?{username:r.username||"",email:r.email||"",password:"",role:r.role||"ADMIN",title:r.title||"Mr",firstName:r.firstName||"",lastName:r.lastName||"",gender:r.gender||"MALE",dateOfBirth:r.dateOfBirth?r.dateOfBirth.split("T")[0]:"",nic:r.nic||"",address:r.address||"",mobileNumber:r.mobileNumber||"",homeNumber:r.homeNumber||"",centerId:((i=r.center)==null?void 0:i.id)||"",isActive:r.isActive??!0}:{username:"",email:"",password:"",role:"ADMIN",title:"Mr",firstName:"",lastName:"",gender:"MALE",dateOfBirth:"",nic:"",address:"",mobileNumber:"",homeNumber:"",centerId:"",isActive:!0})},[r,l]);const M=async()=>{try{const i=await g.get("/centers/dropdown");x(i.data.data.centers||[])}catch(i){console.error("Failed to fetch centers:",i)}},d=i=>{const{name:y,value:h,type:m}=i.target;o({...a,[y]:m==="checkbox"?i.target.checked:h})},v=async i=>{var y,h;i.preventDefault(),t(!0);try{const m={...a};r&&!m.password&&delete m.password,r?(await w.updateUser(r.id,m),j.success("User updated successfully")):(await w.createUser(m),j.success("User created successfully")),N(),c()}catch(m){j.error(((h=(y=m.response)==null?void 0:y.data)==null?void 0:h.message)||"Something went wrong")}finally{t(!1)}};return l?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:c}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:r?"Edit User":"Add New User"}),e.jsx("button",{onClick:c,className:"text-white hover:text-gray-200 transition",children:e.jsx(T,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:v,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 border-b pb-2 flex items-center",children:[e.jsx(q,{className:"w-4 h-4 mr-2"})," Account Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username *"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",name:"username",required:!0,value:a.username,onChange:d,className:"block w-full pl-10 border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(U,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"email",name:"email",required:!0,value:a.email,onChange:d,className:"block w-full pl-10 border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),e.jsxs("select",{name:"role",value:a.role,onChange:d,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border",children:[e.jsx("option",{value:"ADMIN",children:"Admin"}),e.jsx("option",{value:"USER",children:"Staff"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Center"}),e.jsxs("select",{name:"centerId",value:a.centerId,onChange:d,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border",children:[e.jsx("option",{value:"",children:"Select Center"}),b.map(i=>e.jsx("option",{value:i.id,children:i.centerName},i.id))]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Password ",r&&"(Leave blank to keep current)"," ",!r&&"*"]}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Z,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"password",name:"password",required:!r,value:a.password,onChange:d,className:"block w-full pl-10 border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border"})]})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",name:"isActive",id:"isActive",checked:a.isActive,onChange:d,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Account"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 border-b pb-2 flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-2"})," Personal Details"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsxs("select",{name:"title",value:a.title,onChange:d,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border",children:[e.jsx("option",{value:"Mr",children:"Mr"}),e.jsx("option",{value:"Ms",children:"Ms"}),e.jsx("option",{value:"Dr",children:"Dr"}),e.jsx("option",{value:"Prof",children:"Prof"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsx("div",{className:"mt-2 flex space-x-4",children:["MALE","FEMALE","OTHER"].map(i=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gender",value:i,checked:a.gender===i,onChange:d,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:i.toLowerCase()})]},i))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name *"}),e.jsx("input",{type:"text",name:"firstName",required:!0,value:a.firstName,onChange:d,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border px-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),e.jsx("input",{type:"text",name:"lastName",required:!0,value:a.lastName,onChange:d,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border px-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"NIC *"}),e.jsx("input",{type:"text",name:"nic",required:!0,value:a.nic,onChange:d,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border px-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:a.dateOfBirth,onChange:d,className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border px-3"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile Number *"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"tel",name:"mobileNumber",required:!0,value:a.mobileNumber,onChange:d,className:"block w-full pl-10 border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Home Number"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"tel",name:"homeNumber",value:a.homeNumber,onChange:d,className:"block w-full pl-10 border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm h-10 border"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute top-3 left-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-4 w-4 text-gray-400"})}),e.jsx("textarea",{name:"address",rows:2,value:a.address,onChange:d,className:"block w-full pl-10 pt-2 border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm border"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-3 border-t pt-6",children:[e.jsx("button",{type:"button",onClick:c,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50",children:f?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-5 h-5 mr-2"}),r?"Update User":"Create User"]})})]})]})]})]})}):null},ce=({isOpen:l,onClose:c,userId:r})=>{var a;const[N,f]=n.useState(!1),[t,b]=n.useState(null);n.useEffect(()=>{l&&r&&x()},[l,r]);const x=async()=>{try{f(!0);const o=await g.get(`/users/${r}`);b(o.data.data.user)}catch{j.error("Failed to fetch user details"),c()}finally{f(!1)}};return l?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:c}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"User Details"}),e.jsx("button",{onClick:c,className:"text-white hover:text-gray-200 transition",children:e.jsx(T,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-white px-6 py-5 max-h-[calc(100vh-200px)] overflow-y-auto",children:N?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(R,{className:"w-12 h-12 text-primary-600 animate-spin"})}):t?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 pb-6 border-b",children:[e.jsxs("div",{className:"w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center text-primary-700 text-3xl font-bold",children:[t.firstName.charAt(0),t.lastName.charAt(0)]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[t.title," ",t.firstName," ",t.lastName]}),e.jsxs("p",{className:"text-gray-500 font-medium",children:[t.username," • ",t.registrationNumber]}),e.jsxs("div",{className:"mt-2 flex flex-wrap justify-center md:justify-start gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:t.role==="USER"?"STAFF":t.role})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(I,{className:"w-5 h-5 mr-2 text-primary-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[t.firstName," ",t.lastName]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"NIC Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.nic})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Gender"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.gender})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(t.dateOfBirth).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Join Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(U,{className:"w-5 h-5 mr-2 text-primary-600"}),"Contact Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"w-4 h-4 mr-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.email})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Mobile Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.mobileNumber})]})]}),t.homeNumber&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Home Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.homeNumber})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(B,{className:"w-4 h-4 mr-3 mt-1 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.address})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(se,{className:"w-5 h-5 mr-2 text-primary-600"}),"Administrative Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Assigned Center"}),e.jsx("p",{className:"font-medium text-gray-900",children:((a=t.center)==null?void 0:a.centerName)||"Not Assigned"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Registration No."}),e.jsx("p",{className:"font-medium text-gray-900",children:t.registrationNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.role==="USER"?"STAFF":t.role})]})]})]})]})]}):e.jsx("div",{className:"text-center py-20 text-gray-500",children:"User data not found"})}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end",children:e.jsx("button",{onClick:c,className:"px-6 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Close"})})]})]})}):null},Ue=()=>{const{user:l}=Q(),[c,r]=n.useState([]),[N,f]=n.useState(!0),[t,b]=n.useState(""),[x,a]=n.useState(1),[o,M]=n.useState(1),[d,v]=n.useState(!1),[i,y]=n.useState(!1),[h,m]=n.useState(null),[k,$]=n.useState({totalUsers:0,activeUsers:0,roles:{ADMIN:0,LECTURER:0,STUDENT:0,STAFF:0}}),[p,z]=n.useState({role:"",isActive:"",centerId:""}),[O,V]=n.useState([]);n.useEffect(()=>{S(),C()},[x,t,p]),n.useEffect(()=>{H()},[]);const H=async()=>{try{const s=await g.get("/centers/dropdown");V(s.data.data.centers)}catch(s){console.error("Failed to fetch centers:",s)}},S=async()=>{try{f(!0);const s={page:x,limit:10,search:t,role:p.role||"ADMIN,USER",isActive:p.isActive===""?void 0:p.isActive==="true",centerId:p.centerId},u=await w.getAllUsers(s);r(u.data.users),M(u.data.pagination.pages)}catch(s){j.error("Failed to fetch users"),console.error(s)}finally{f(!1)}},C=async()=>{try{const s=await w.getUserStats();$(s.data)}catch(s){console.error("Failed to fetch user stats:",s)}},X=async s=>{var u,F;if(window.confirm("Are you sure you want to delete this user?"))try{await w.deleteUser(s),j.success("User deleted successfully"),S(),C()}catch(_){j.error(((F=(u=_.response)==null?void 0:u.data)==null?void 0:F.message)||"Failed to delete user")}},G=s=>{b(s.target.value),a(1)},D=(s,u)=>{z({...p,[s]:u}),a(1)},J=s=>{switch(s){case"ADMIN":return"bg-red-100 text-red-800";case"USER":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(W,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all system users and their roles"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{S(),C()},className:"p-2 text-gray-500 hover:text-primary-600 transition",title:"Refresh",children:e.jsx(P,{className:`w-5 h-5 ${N?"animate-spin":""}`})}),e.jsxs("button",{onClick:()=>{m(null),v(!0)},className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[e.jsx(te,{className:"w-5 h-5 mr-2"}),"Add User"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.totalUsers})]}),e.jsx(E,{className:"w-10 h-10 text-blue-100"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:k.activeUsers})]}),e.jsx(L,{className:"w-10 h-10 text-green-100"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Admins"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:k.roles.ADMIN})]}),e.jsx(q,{className:"w-10 h-10 text-red-100"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Staff"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k.roles.STAFF})]}),e.jsx(E,{className:"w-10 h-10 text-blue-100"})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, username or reg no...",value:t,onChange:G,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(l==null?void 0:l.role)==="ADMIN"&&e.jsxs("select",{value:p.centerId,onChange:s=>D("centerId",s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Centers"}),O.map(s=>e.jsx("option",{value:s.id,children:s.centerName},s.id))]}),e.jsxs("select",{value:p.role,onChange:s=>D("role",s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"ADMIN",children:"Admin"}),e.jsx("option",{value:"USER",children:"Staff"})]}),e.jsxs("select",{value:p.isActive,onChange:s=>D("isActive",s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:N?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(P,{className:"w-10 h-10 animate-spin text-primary-600"})}):c.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(E,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No users found"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 flex-shrink-0",children:s.profilePic?e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:s.profilePic,alt:""}):e.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold",children:[s.firstName.charAt(0),s.lastName.charAt(0)]})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.firstName," ",s.lastName]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.username," • ",s.registrationNumber]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${J(s.role)}`,children:s.role==="USER"?"STAFF":s.role})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(U,{className:"w-4 h-4 mr-1.5 text-gray-400"}),s.email]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-1.5 text-gray-400"}),s.mobileNumber]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.isActive?e.jsxs("span",{className:"flex items-center text-green-600 text-sm font-medium",children:[e.jsx(L,{className:"w-4 h-4 mr-1"})," Active"]}):e.jsxs("span",{className:"flex items-center text-red-600 text-sm font-medium",children:[e.jsx(re,{className:"w-4 h-4 mr-1"})," Inactive"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{m(s),y(!0)},className:"text-primary-600 hover:text-primary-900",title:"View",children:e.jsx(ae,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{m(s),v(!0)},className:"text-green-600 hover:text-green-900",title:"Edit",children:e.jsx(le,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>X(s.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(ie,{className:"w-5 h-5"})})]})})]},s.id))})]})}),e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>a(s=>Math.max(1,s-1)),disabled:x===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>a(s=>Math.min(o,s+1)),disabled:x===o,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing Page ",e.jsx("span",{className:"font-medium",children:x})," of"," ",e.jsx("span",{className:"font-medium",children:o})]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>a(s=>Math.max(1,s-1)),disabled:x===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:o},(s,u)=>u+1).map(s=>e.jsx("button",{onClick:()=>a(s),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===s?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:s},s)),e.jsx("button",{onClick:()=>a(s=>Math.min(o,s+1)),disabled:x===o,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})})]}),e.jsx(ne,{isOpen:d,onClose:()=>{v(!1),m(null)},user:h,onSuccess:()=>{S(),C()}}),e.jsx(ce,{isOpen:i,onClose:()=>{y(!1),m(null)},userId:(h==null?void 0:h.id)||null})]})};export{Ue as default};
