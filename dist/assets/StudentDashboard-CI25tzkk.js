import{r as n,b as N,j as e,L as t}from"./index-Cv_EM5B3.js";import{D as m,B as o,F as x,A as y}from"./DashboardLayout-Dgk-_yJ3.js";import{T as f}from"./trending-up-DauZsihk.js";import{C as b}from"./clock-YOqg-tzx.js";import{C as v}from"./check-circle-C2ph5B4V.js";import{a as w}from"./credit-card-DXrYcg-6.js";import"./graduation-cap-DFyTfTku.js";import"./video-D6oD5f21.js";const F=()=>{var d;const[a,g]=n.useState(null),[h,p]=n.useState(!0);n.useEffect(()=>{u()},[]);const u=async()=>{try{const s=await N.get("/dashboard/student");g(s.data.data)}catch(s){console.error("Failed to fetch dashboard data:",s)}finally{p(!1)}};if(h)return e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})});const l=(a==null?void 0:a.stats)||{},c=(a==null?void 0:a.upcomingClasses)||[],i=(a==null?void 0:a.recentResults)||[],j=[{name:"Enrolled Courses",value:l.enrolledCourses||0,icon:o,color:"blue"},{name:"Attendance Rate",value:`${l.attendanceRate||0}%`,icon:f,color:"green"},{name:"Pending Assignments",value:l.pendingAssignments||0,icon:x,color:"purple"},{name:"Average Grade",value:l.averageGrade||0,icon:y,color:"yellow"}];return e.jsx(m,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",(d=a==null?void 0:a.profile)==null?void 0:d.name,"! Track your academic progress."]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:j.map(s=>e.jsx("div",{className:"bg-white p-5 shadow rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-3 rounded-full bg-${s.color}-100`,children:e.jsx(s.icon,{className:`h-6 w-6 text-${s.color}-600`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:s.name}),e.jsx("p",{className:"text-2xl font-semibold",children:s.value})]})]})},s.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Classes"}),e.jsx(t,{to:"/student/schedule",className:"text-sm text-primary-600 hover:text-primary-500",children:"View Schedule"})]}),e.jsx("div",{className:"p-5",children:c.length>0?e.jsx("div",{className:"space-y-4",children:c.map(s=>{var r;return e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(b,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(r=s.module)==null?void 0:r.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.startTime," - ",s.endTime]})]}),e.jsx("span",{className:"text-xs font-medium text-primary-600 bg-primary-50 px-2 py-1 rounded",children:s.location||"Online"})]},s.id)})}):e.jsx("div",{className:"text-center py-6 text-gray-500",children:e.jsx("p",{children:"No upcoming classes today."})})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Results"}),e.jsx(t,{to:"/student/results",className:"text-sm text-primary-600 hover:text-primary-500",children:"View All"})]}),e.jsx("div",{className:"p-5",children:i.length>0?e.jsx("div",{className:"space-y-4",children:i.map(s=>{var r;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(r=s.module)==null?void 0:r.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[s.marks,"/",s.maxMarks]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(s.marks/s.maxMarks*100),"%"]})]})]},s.id)})}):e.jsx("div",{className:"text-center py-6 text-gray-500",children:e.jsx("p",{children:"No recent results found."})})})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-5",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Quick Links"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(t,{to:"/student/assignments",className:"flex flex-col items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(x,{className:"h-6 w-6 text-blue-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Assignments"})]}),e.jsxs(t,{to:"/student/attendance",className:"flex flex-col items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(v,{className:"h-6 w-6 text-green-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Attendance"})]}),e.jsxs(t,{to:"/student/payments",className:"flex flex-col items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(w,{className:"h-6 w-6 text-purple-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Payments"})]}),e.jsxs(t,{to:"/student/courses",className:"flex flex-col items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(o,{className:"h-6 w-6 text-orange-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Courses"})]})]})]})]})})};export{F as default};
