import{r as i,b,j as e,a as q,z as m}from"./index-Cv_EM5B3.js";import{X as U,B as P,C as R,a as M,F as A,D as G,S as O}from"./DashboardLayout-Dgk-_yJ3.js";import{S as X}from"./save-BnGpkhwG.js";import{I as _}from"./info-BgLrENgl.js";import{H as J}from"./hash-BFl_i1Z-.js";import{M as Q}from"./map-pin-DPFV6g1q.js";import{U as I}from"./video-D6oD5f21.js";import{C as L}from"./clock-YOqg-tzx.js";import{P as W}from"./plus-smBCJEhq.js";import{E as Y}from"./eye-WupJDer2.js";import{P as Z}from"./pen-square-BIqX7x5-.js";import{T as ee}from"./trash-2-CpS1ADUT.js";import"./graduation-cap-DFyTfTku.js";import"./credit-card-DXrYcg-6.js";const se=({isOpen:y,onClose:x,program:l,onSuccess:N})=>{const[h,t]=i.useState(!1),[f,v]=i.useState([]),[n,j]=i.useState({programCode:"",programName:"",duration:"",programFee:"",description:"",centerIds:[]});i.useEffect(()=>{o()},[]);const o=async()=>{try{const a=await b.get("/centers");v(a.data.data.centers||[])}catch(a){console.error("Failed to fetch centers:",a)}};i.useEffect(()=>{var a,c;j(l?{programCode:l.programCode||"",programName:l.programName||"",duration:l.duration||"",programFee:((a=l.programFee)==null?void 0:a.toString())||"",description:l.description||"",centerIds:((c=l.centers)==null?void 0:c.map(p=>p.id))||[]}:{programCode:"",programName:"",duration:"",programFee:"",description:"",centerIds:[]})},[l]);const d=a=>{const{name:c,value:p}=a.target;j({...n,[c]:p})},r=a=>{j(c=>c.centerIds.includes(a)?{...c,centerIds:c.centerIds.filter(g=>g!==a)}:{...c,centerIds:[...c.centerIds,a]})},k=()=>n.programCode.trim()?n.programName.trim()?n.duration.trim()?!n.programFee||parseFloat(n.programFee)<=0?(m.error("Valid program fee is required"),!1):n.centerIds.length===0?(m.error("At least one center must be selected"),!1):!0:(m.error("Duration is required"),!1):(m.error("Program name is required"),!1):(m.error("Program code is required"),!1),F=async a=>{var c,p;if(a.preventDefault(),!!k()){t(!0);try{const g={...n,programFee:parseFloat(n.programFee)};l?(await b.put(`/programs/${l.id}`,g),m.success("Program updated successfully")):(await b.post("/programs",g),m.success("Program created successfully")),N(),x()}catch(g){m.error(((p=(c=g.response)==null?void 0:c.data)==null?void 0:p.message)||`Failed to ${l?"update":"create"} program`)}finally{t(!1)}}};return y?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:x}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[e.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:l?"Edit Program":"Add New Program"}),e.jsx("button",{onClick:x,className:"text-white hover:text-gray-200 transition",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"bg-white px-6 py-5 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"programCode",value:n.programCode,onChange:d,required:!0,disabled:!!l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100",placeholder:"e.g., BSC-CS-2024"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unique identifier for the program"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"programName",value:n.programName,onChange:d,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Bachelor of Science in Computer Science"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"duration",value:n.duration,onChange:d,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select duration"}),e.jsx("option",{value:"3 months",children:"3 months"}),e.jsx("option",{value:"6 months",children:"6 months"}),e.jsx("option",{value:"1 year",children:"1 year"}),e.jsx("option",{value:"2 years",children:"2 years"}),e.jsx("option",{value:"3 years",children:"3 years"}),e.jsx("option",{value:"4 years",children:"4 years"}),e.jsx("option",{value:"5 years",children:"5 years"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Fee (LKR) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"programFee",value:n.programFee,onChange:d,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., 5000.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:n.description,onChange:d,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter program description, objectives, and key features..."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Available Centers ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 border border-gray-300 rounded-lg p-4 max-h-48 overflow-y-auto",children:f.length>0?f.map(a=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-2 hover:bg-gray-50 rounded transition",children:[e.jsx("input",{type:"checkbox",checked:n.centerIds.includes(a.id),onChange:()=>r(a.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:a.centerName})]},a.id)):e.jsx("p",{className:"col-span-2 text-sm text-gray-500 italic",children:"No centers available"})}),n.centerIds.length===0&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Select at least one center"})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition",disabled:h,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50",children:h?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-5 h-5 mr-2 animate-spin"}),l?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-5 h-5 mr-2"}),l?"Update Program":"Create Program"]})})]})]})]})]})}):null},te=({isOpen:y,onClose:x,programId:l})=>{var j,o,d;const[N,h]=i.useState(!1),[t,f]=i.useState(null);i.useEffect(()=>{y&&l&&v()},[y,l]);const v=async()=>{try{h(!0);const r=await b.get(`/programs/${l}`);f(r.data.data.program)}catch{m.error("Failed to fetch program details"),x()}finally{h(!1)}},n=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"LKR"}).format(r);return y?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:x}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsxs("div",{className:"bg-primary-600 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Program Details"}),e.jsx("button",{onClick:x,className:"text-white hover:text-gray-200 transition",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-white px-6 py-5 max-h-[calc(100vh-200px)] overflow-y-auto",children:N?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(q,{className:"w-12 h-12 text-primary-600 animate-spin"})}):t?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 pb-6 border-b",children:[e.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-lg flex items-center justify-center text-primary-600",children:e.jsx(P,{className:"w-12 h-12"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.programName}),e.jsx("p",{className:"text-gray-500 font-medium",children:t.programCode}),e.jsxs("div",{className:"mt-2 flex flex-wrap justify-center md:justify-start gap-2",children:[e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:t.duration}),e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:n(t.programFee)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(_,{className:"w-4 h-4 mr-2"})," General Information"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(J,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Program Code"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.programCode})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(R,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.duration})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(M,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Program Fee"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n(t.programFee)})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"})," Available Centers"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:t.centers&&t.centers.length>0?t.centers.map(r=>e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full mr-2"}),r.centerName]},r.id)):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No centers assigned."})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-2"})," Description"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 h-full min-h-[120px]",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.description||"No description provided."})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-2"})," Program Statistics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Modules"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:((j=t.stats)==null?void 0:j.moduleCount)||0})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Total Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:((o=t.stats)==null?void 0:o.enrollmentCount)||0})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Active Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:((d=t.stats)==null?void 0:d.activeEnrollments)||0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 pt-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-2 text-primary-600"}),"Modules"]}),t.modules&&t.modules.length>0?e.jsxs("div",{className:"space-y-3",children:[t.modules.slice(0,5).map(r=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-100 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:r.moduleName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.moduleCode," â€¢ ",r.credits," Credits"]})]}),r.lecturer&&e.jsx("span",{className:"text-xs text-primary-600 font-medium",children:r.lecturer.user.firstName})]},r.id)),t.modules.length>5&&e.jsxs("p",{className:"text-xs text-center text-gray-500 pt-2",children:["+ ",t.modules.length-5," more modules"]})]}):e.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"No modules assigned."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-2 text-primary-600"}),"Active Batches"]}),t.batches&&t.batches.length>0?e.jsxs("div",{className:"space-y-3",children:[t.batches.slice(0,5).map(r=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-100 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:r.batchNumber}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Start: ",new Date(r.startDate).toLocaleDateString()]})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${r.status==="ACTIVE"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:r.status})]},r.id)),t.batches.length>5&&e.jsxs("p",{className:"text-xs text-center text-gray-500 pt-2",children:["+ ",t.batches.length-5," more batches"]})]}):e.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"No batches found."})]})]}),e.jsxs("div",{className:"pt-6 border-t flex justify-between text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),"Created: ",new Date(t.createdAt).toLocaleString()]}),t.updatedAt&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),"Updated: ",new Date(t.updatedAt).toLocaleString()]})]})]}):e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-500",children:"No program data found."})})}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end",children:e.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition",children:"Close"})})]})]})}):null},fe=()=>{const[y,x]=i.useState([]),[l,N]=i.useState(!0),[h,t]=i.useState(""),[f,v]=i.useState(""),[n,j]=i.useState([]),[o,d]=i.useState(1),[r,k]=i.useState(1),[F,a]=i.useState(!1),[c,p]=i.useState(!1),[g,C]=i.useState(null),[S,V]=i.useState({totalPrograms:0,totalEnrollments:0,totalModules:0,totalRevenue:0});i.useEffect(()=>{D(),E()},[o,h,f]),i.useEffect(()=>{$()},[]);const $=async()=>{try{const s=await b.get("/centers");j(s.data.data.centers||[])}catch(s){console.error("Failed to fetch centers:",s)}},D=async()=>{try{N(!0);const s=new URLSearchParams({page:o.toString(),limit:"10",...h&&{search:h},...f&&{centerId:f}}),u=await b.get(`/programs?${s}`);x(u.data.data.programs),k(u.data.data.pagination.pages)}catch(s){m.error("Failed to fetch programs"),console.error(s)}finally{N(!1)}},E=async()=>{try{const s=await b.get("/programs/stats");V(s.data.data)}catch(s){console.error("Failed to fetch stats:",s)}},z=async s=>{var u,w;if(window.confirm("Are you sure you want to delete this program?"))try{await b.delete(`/programs/${s}`),m.success("Program deleted successfully"),D(),E()}catch(H){m.error(((w=(u=H.response)==null?void 0:u.data)==null?void 0:w.message)||"Failed to delete program")}},B=s=>{t(s.target.value),d(1)},K=s=>{C(s),p(!0)},T=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"LKR"}).format(s);return e.jsxs(G,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Programs"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage academic programs"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[e.jsx(W,{className:"w-5 h-5 mr-2"}),"Add Program"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-5 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),e.jsx("p",{className:"text-2xl font-bold",children:S.totalPrograms})]}),e.jsx(P,{className:"w-10 h-10 text-blue-500"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.totalEnrollments})]}),e.jsx(I,{className:"w-10 h-10 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Modules"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:S.totalModules})]}),e.jsx(A,{className:"w-10 h-10 text-purple-500"})]})}),e.jsx("div",{className:"bg-white p-5 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T(S.totalRevenue)})]}),e.jsx(M,{className:"w-10 h-10 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by program name or code...",value:h,onChange:B,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx("div",{className:"w-full md:w-64",children:e.jsxs("select",{value:f,onChange:s=>{v(s.target.value),d(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Centers"}),n.map(s=>e.jsx("option",{value:s.id,children:s.centerName},s.id))]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:l?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(P,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No programs found"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:y.map(s=>{var u,w;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(P,{className:"w-5 h-5 text-primary-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-600",children:s.programCode})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:s.programName})]})}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Duration: ",s.duration]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Fee: ",T(s.programFee)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Modules"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:((u=s.stats)==null?void 0:u.moduleCount)||0})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Students"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:((w=s.stats)==null?void 0:w.enrollmentCount)||0})]})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>K(s),className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition",title:"View Details",children:[e.jsx(Y,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs("button",{onClick:()=>{C(s),a(!0)},className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-green-600 bg-green-50 rounded-lg hover:bg-green-100 transition",title:"Edit",children:[e.jsx(Z,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>z(s.id),className:"flex-1 flex items-center justify-center px-3 py-2 text-sm text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition",title:"Delete",children:[e.jsx(ee,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},s.id)})}),e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>d(s=>Math.max(1,s-1)),disabled:o===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>d(s=>Math.min(r,s+1)),disabled:o===r,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Page ",e.jsx("span",{className:"font-medium",children:o})," of"," ",e.jsx("span",{className:"font-medium",children:r})]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>d(s=>Math.max(1,s-1)),disabled:o===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,r)},(s,u)=>u+1).map(s=>e.jsx("button",{onClick:()=>d(s),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===s?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:s},s)),e.jsx("button",{onClick:()=>d(s=>Math.min(r,s+1)),disabled:o===r,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})})]}),e.jsx(se,{isOpen:F,onClose:()=>{a(!1),C(null)},program:g,onSuccess:()=>{D(),E()}}),e.jsx(te,{isOpen:c,onClose:()=>{p(!1),C(null)},programId:(g==null?void 0:g.id)||null})]})};export{fe as default};
