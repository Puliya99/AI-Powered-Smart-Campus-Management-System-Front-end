import{r as t,b,j as e,L as i}from"./index-Cv_EM5B3.js";import{D as o,F as x,C as h,d as w}from"./DashboardLayout-Dgk-_yJ3.js";import{U as g}from"./user-plus-DtxWCNpf.js";import{U as p}from"./video-D6oD5f21.js";import{A as E}from"./arrow-right-Dt1PBQWj.js";import"./graduation-cap-DFyTfTku.js";import"./credit-card-DXrYcg-6.js";const D=()=>{var c;const[a,u]=t.useState(null),[f,j]=t.useState(!0);t.useEffect(()=>{N()},[]);const N=async()=>{try{const s=await b.get("/dashboard/staff");u(s.data.data)}catch(s){console.error("Failed to fetch dashboard data:",s)}finally{j(!1)}};if(f)return e.jsx(o,{children:e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})});const r=(a==null?void 0:a.stats)||{},n=(a==null?void 0:a.recentRegistrations)||[],l=(a==null?void 0:a.upcomingEvents)||[],y=[{name:"Today's Enrollments",value:r.todayEnrollments||0,icon:g,color:"blue"},{name:"Pending Documents",value:r.pendingDocuments||0,icon:x,color:"yellow"},{name:"Total Registrations",value:r.totalRegistrations||0,icon:p,color:"green"},{name:"Upcoming Events",value:l.length,icon:h,color:"purple"}],v=[{name:"New Enrollment",href:"/user/enrollment",icon:g,color:"bg-blue-500"},{name:"Student List",href:"/user/students",icon:p,color:"bg-green-500"},{name:"Verify Documents",href:"/user/documents",icon:w,color:"bg-purple-500"},{name:"Generate Reports",href:"/user/reports",icon:x,color:"bg-orange-500"}];return e.jsx(o,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",(c=a==null?void 0:a.profile)==null?void 0:c.name,"! Manage campus operations efficiently."]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:y.map(s=>e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex-shrink-0 bg-${s.color}-100 rounded-md p-3`,children:e.jsx(s.icon,{className:`h-6 w-6 text-${s.color}-600`})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:s.name}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:s.value})]})})]})})},s.name))}),e.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:v.map(s=>e.jsxs(i,{to:s.href,className:"flex items-center p-4 bg-white shadow rounded-lg hover:shadow-md transition-shadow",children:[e.jsx("div",{className:`${s.color} p-3 rounded-lg mr-4`,children:e.jsx(s.icon,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900",children:s.name})]},s.name))}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Student Registrations"}),e.jsx(i,{to:"/user/students",className:"text-sm text-primary-600 hover:text-primary-500",children:"View all"})]}),e.jsx("div",{className:"p-5",children:e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-my-5 divide-y divide-gray-200",children:n.length>0?n.map(s=>e.jsx("li",{className:"py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsxs("span",{className:"text-primary-700 font-medium",children:[s.firstName[0],s.lastName[0]]})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:s.email})]}),e.jsx("div",{children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s.registrationNumber||"New"})})]})},s.id)):e.jsx("p",{className:"py-4 text-center text-gray-500 text-sm",children:"No recent registrations."})})})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Classes"})}),e.jsx("div",{className:"p-5",children:e.jsx("div",{className:"space-y-4",children:l.length>0?l.map(s=>{var d,m;return e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 pt-0.5",children:e.jsx(h,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(d=s.module)==null?void 0:d.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(m=s.batch)==null?void 0:m.name," | ",s.startTime," - ",s.endTime]})]}),e.jsx(i,{to:`/user/schedules/${s.id}`,className:"ml-4 flex-shrink-0",children:e.jsx(E,{className:"h-5 w-5 text-gray-400"})})]},s.id)}):e.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"No upcoming events today."})})})]})]})]})})};export{D as default};
